<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,viewport-fit=cover">
    <title>Test</title>
</head>
<body>
    <canvas id="test" style="height: 500px;"></canvas>
    <canvas id="test2" style="height: 540px;"></canvas>
    <button id="btn">changeconfig</button>
    <button id="download">download</button>
</body>
<script src="./svecard.min.js"></script>
<script>
    const {Card, CardShowcase} = SVECard;
    const canvas = document.getElementById("test");
    const canvas2 = document.getElementById("test2");
    const cardData = {
        desc: `/evo/cost1:是这张卡进化。\n/fanfare将一个『召来狐』召唤到场上。\n/start/cost2将墓场中的这张卡消失：将一个『召来狐』召唤到场上。使自己场上的全体『召来狐』各《攻击力》+2/《生命值》+1。`,
        tokenDesc: `*『召来狐』 主教职业·衍生物·从者 宴乐·狂信·野兽类型\n消费1/攻击力0/生命值1\n【守护】\n/fanfare使自己的主战者《生命值》+1。`,
        craft: "Haven",
        cardType: "Follower",
        imageSrc: "",
        cost: 1,
        attack: 3,
        defense: 3,
        race: "宴乐·狂信·偶像",
        name: "千箔百面之邪神",
        cardNo: "CP03-011 2024 アイドルマスター ミリオンライブ",
        copyright: "© Cygames,Inc.",
        cardStyle: "Normal",
    }
    const card = new Card({
        data: cardData,
        height: 2000,
        canvas,
        config: {
            kuroshiro: {
                dictPath: "/kuromoji/dict"
            },
            textFontFamily: "sve-card-cn"
        }
    });

    const cardShowcase = new CardShowcase({
        cardData,
        canvas: canvas2,
        height: 1080 * 2,
        cardConfig: {
            copyright: {
                URColor: "#000"
            },
            kuroshiro: {
                dictPath: "/kuromoji/dict"
            },
            textFontFamily: "sve-card-cn"
        },
        showcaseConfig: {
            textFontFamily: "sve-card-cn",
        },
        showcaseData: {
            fromText: "日文补充包BP14\n「梦幻飨宴」",
            cardImgSrc: "https://svgdb.me/assets/fullart/1238240100.png",
        },
    })

    cardShowcase.draw();

    function refresh() {
        card.draw();
    }

    function download() {
        card.download();
    }

    function setConfig() {
        card.setSize([500])
    }

    document.getElementById("btn").addEventListener("click", (event) => setConfig());
    document.getElementById("download").addEventListener("click", (event) => download());
</script>
</html>
